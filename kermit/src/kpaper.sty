\NeedsTeXFormat{LaTeX2e}[1995/12/01]
\ProvidesPackage{kpaper}
              [2007/11/29 v0.0.1
    Paper Sizes Package]
%%
\RequirePackage{xkeyval}
%\RequirePackage[a4paper]{geometry}
%%
%% begin Options
%%
\DeclareOption{a0paper}
   {\setlength\paperheight {1189mm}%
    \setlength\paperwidth  {841mm}}
\DeclareOption{a1paper}
   {\setlength\paperheight {841mm}%
    \setlength\paperwidth  {594mm}}
\DeclareOption{a2paper}
   {\setlength\paperheight {594mm}%
    \setlength\paperwidth  {420mm}}
\DeclareOption{a3paper}
   {\setlength\paperheight {420mm}%
    \setlength\paperwidth  {297mm}}
\DeclareOption{a4paper}
   {\setlength\paperheight {297mm}%
    \setlength\paperwidth  {210mm}}
\DeclareOption{a5paper}
   {\setlength\paperheight {210mm}%
    \setlength\paperwidth  {148mm}}
\DeclareOption{b5paper}
   {\setlength\paperheight {250mm}%
    \setlength\paperwidth  {176mm}}
\DeclareOption{letterpaper}
   {\setlength\paperheight {11in}%
    \setlength\paperwidth  {8.5in}}
\DeclareOption{legalpaper}
   {\setlength\paperheight {14in}%
    \setlength\paperwidth  {8.5in}}
\DeclareOption{executivepaper}
   {\setlength\paperheight {10.5in}%
    \setlength\paperwidth  {7.25in}}

\DeclareOption{foolscap}
    {\setlength\paperheight{171mm}%
    \setlength\paperwidth{108mm}}
\DeclareOption{crown}
    {\setlength\paperheight{191mm}%
    \setlength\paperwidth{127mm}}
\DeclareOption{post}
    {\setlength\paperheight{194mm}%
    \setlength\paperwidth{122mm}}
\DeclareOption{largepost}
    {\setlength\paperheight{210mm}%
    \setlength\paperwidth{137mm}}
\DeclareOption{demy}
    {\setlength\paperheight{222mm}%
    \setlength\paperwidth{143mm}}
\DeclareOption{medium}
    {\setlength\paperheight{229mm}%
    \setlength\paperwidth{146mm}}
\DeclareOption{royal}
    {\setlength\paperheight{254mm}%
    \setlength\paperwidth{159mm}}
\DeclareOption{superroyal}
    {\setlength\paperheight{267mm}%
    \setlength\paperwidth{171mm}}
\DeclareOption{imperial}
    {\setlength\paperheight{279mm}%
    \setlength\paperwidth{191mm}}

%%

\let\KermitKeyMedia\@empty
\let\KermitKeyPaper\@empty

\DeclareOptionX{media}[a4paper]{\def\KermitKeyMedia{#1}}

\DeclareOptionX{paper}[a4paper]{\def\KermitKeyPaper{#1}}

%% GOST 5773-90

% Стандартные в России форматы изданий (ГОСТ 5773—90)

% Книжные издания

% Размер листа бумаги, мм & Доля листаФормат книжных изданий & Условное обозначение & Размеры, мм максимальный &  минимальный
% 600М x 900 1/8 60x90/8 220x290 205x275
% 840 x 1080М 1/16 84x108/16 205x260 192x255
% 700 x 1000М 1/16 70x100/16 170x240 158x230
% 700 x 900М 1/16 70x90/16 170x215 155x210
% 600 x 900М 1/16 60x90/16 145x215 132x205
% 600 x 840М 1/16 60x84/16 145x200 130x195
% 840М x 1080 1/3 284x108/32 130x200 123x192
% 700М x1000 1/32 70x100/32 120x165 112x158
% 750М x 900 1/32 75x90/32 107x177 100x170
% 700М x 900 1/32 70x90/32 107x165 100x155
% 600М x 840 1/32 60x84/32 100x140 95x130

% Журнальные издания

% Размер листа бумаги, мм & Доля листаФормат журнальных изданий & Условное обозначение & Размеры, мм максимальный & минимальный
% 700 x 1080 1/8 70x108/8 265x340 257x333
% 600 x 900 1/8 60x90/8 220x290 205x275
% 600 x 840 1/8 60x84/8 205x290 200x285
% 840 x 1080 1/16 84x108/16 205x260 192x255
% 700 x 1080 1/16 70x108/16 170x260 158x255
% 700 x 1000 1/16 70x100/16 170x240 158x230
% 600 x 900 1/16 60x90/16 145x215 132x205
% 840 x 1080 1/32 84x108/32 130x200 123x192
% 700 x 1080 1/32 70x108/32 130x165 125x165

% Стандарты бумаги ISO 216

% Форматы A-серии & Форматы B-серии & Форматы C-серии
% Обозначение & Формат, мм &  Обозначение & Формат, мм & Обозначение & Формат, мм
% 4A0 1682x2378 — — — —
% 2A0 1189x1682 — — — —
% A0 841x1189 B0 1000x1414 C0 917x1297
% A1 594x841 B1 707x1000 C1 648x917
% A2 420x594 B2 500x707 C2 458x648
% A3 297x420 B3 353x500 C3 324x458
% A4 210x297 B4 250x353 C4 229x324
% A5 148x210 B5 176x250 C5 162x229
% A6 105x148 B6 125x176 C6 114x162
% A7 74x105 B7 88x125 C7 81x114
% A8 52x74 B8 62x88 C8 57x81
% A9 37x52 B9 44x62 C9 40x57
% A10 26x37 B10 31x44 C10 28x40

% Форматы полосы набора

% Формат полосы набора лучше всего узнавать у технологов типографии, в
% которой будет печататься издание. Если же такой возможности нет, то
% можно воспользоваться приведенными ниже таблицами, в которых даны
% основные форматы, используемые в российской полиграфии. Эти данные
% взяты из ОСТ 29.62—86, который на данный момент не действует, но
% т. к. в современных стандартах регламентируется только ширина полосы
% набора, но ничего не говорится о высоте, то для работы старый ОСТ
% более полезен.  Форматы полосы набора для основных форматов книжных
% изданий

% Формат бумаги, см & Формат полосы набора, кв., при доле листа
% &  1/32 &  1/16 & 1/8
% Первый вариант оформления
% 60x84 4 1/2x6 1/2 6 3/4x9 3/4 9 3/4x14
% 60x90 4 3/4x6 1/2 6 3/4x10 1/2 10 1/2x14 1/4
% 70x90 4 3/4x7 3/4 8x10 1/4 —
% 75x90 4 3/4x8 1/2 8 3/4x10 1/4 —
% 70x100 5 1/4x7 3/4 8x1 11/2 12x17
% 70x108 6x7 3/4 8x12 1/2 13x17
% 84x108 6x9 3/4 9 3/4x12 1/2 13x20 3/4
% Второй вариант оформления
% 60x84 4 1/4x6 1/4 6 1/2x9 1/2 9 1/2x13 3/4
% 60x90 4 1/2x6 1/4 6 1/2x10 1/4 10 1/4x14
% 70x90 4 1/2x7 1/2 7 3/4x10* —
% 75x90 4 1/2x8 1/4 8 1/2x10 —
% 70x100 5x7 1/2 7 3/4x11 1/4* 11 3/4x16 3/4
% 70x108 5 3/4x7 1/2 7 3/4x12 1/4* 12 3/4x16 3/4
% 84x108 5 3/4x9 1/2** 9 1/2x12 1/4 12 3/4x20 1/2
% Третий вариант оформления
% 60x84 4x6 6 1/4x9 1/4 9 1/4x13 1/2
% 60x90 4 1/4x6 6 1/4x10 10x13 3/4
% 70x90 4 1/4x7 1/4 7 1/2x9 3/4* —
% 75x90 4 1/4x8 8 1/4x9 3/4 —
% 70x100 4 3/4x7 1/4 7 1/2x11* 11 1/2x16 1/2
% 70x108 5 1/2x7 1/4 7 1/2x12* 12 1/2x16 1/2
% 84x108 5 1/2x9 1/4 9 1/4x12 12 1/2x20 1/4

% Примечание. В форматах, помеченных одной звездочкой, формат набора на
% строкоотливных машинах не выше 7 кв., а в формате, помеченном двумя
% звездочками, формат набора для изданий, предназначенных для
% бесшвейного скрепления, не выше 5 1/4 кв.

% Рекомендую выбирать 2-й или 3-й варианты оформления, иначе поля могут
% быть слишком маленькие.  Форматы полосы набора для основных форматов
% журнальных изданий

% Формат издания & Вариант оформления 
% & I & II
% 84x108/32 6x9 3/4 5 3/4x9 1/2
% 60x90/16 6 3/4x10 1/2 6 1/2x10 1/4
% 70x100/16 8x11 3/4 7 3/4x11 1/2*
% 70x108/16 8x12 3/4 7 3/4x12 1/2*
% 84x108/16 10x13 9 3/4x12 3/4
% 60x84/8 10x14 1/2 9 3/4x14 1/4
% 60x90/8 10 3/4x14 1/4 10 1/2x14
% 70x108/8 13 1/4x17 1/4 13x17

% Примечание. * При строкоотливном наборе ширина 7 кв. или набор в 2 колонки.

% ОСТ 29.127-2002 

% 3. Корешковые поля на развороте издания должны быть не менее 26 мм.

%    Рекомендуемые размеры полей на странице издания указаны в таблице 1.

%    Таблица 1 (рекомендуемая) 
   
% Наименование поля  на странице издания & Минимальный размер поля на
% странице издания (мм) \\
% &  для первой и второй возрастных групп &     для третьей и
% четвертой возрастных групп  & для форматов 60х90/8 и 84х108/16 \\
% & кроме форматов 60х90/8 и 84х108/16 \\
% Корешковое    13      13      12
% Верхнее       18      14      22
% Наружное      18      14      22
% Нижнее        22      18      25
 

%    Разрешается на полях страницы, кроме корешковых, размещать условные обозначения, наглядные изображения, текст объемом не более 50 знаков на расстоянии не менее 5 мм от полосы.

%                      4. При печати черной краской интервал оптических плотностей элементов изображения текста и бумаги в издании должен быть не менее 0,7.
%                      5. При печати текста на цветном, сером фоне, участках многокрасочных иллюстраций оптическая плотность фона должна быть не более 0,3.


%% paper: 145x200 mm
%% text: 112x175
\DeclareOption{60x84/16}
{%
    \setlength \paperheight{200mm}%
    \setlength \paperwidth {145mm}
    %% + 1 in
    \setlength{\hoffset}{-5mm}
    \setlength{\textwidth}{145mm}
%    \geometry{heightrounded}
% \geometry{includeheadfoot}
%    \geometry{includefoot}
% \geometry{twoside}
%    \geometry{papersize={145mm,200mm}}
%% \geometry{hmargin={11mm,17mm},vmargin={11mm,19mm}}
%    \geometry{total={112mm,175mm}}
%    \geometry{marginparwidth=0pt,marginparsep=0pt}
%\geometry{twosideshift=0pt}
%    \geometry{headheight=0pt}
%    \geometry{headsep=0pt}
%  \geometry{footskip=2mm}
}

%% paper: 145x215 mm
\DeclareOption{60x90/16}
{%
    \setlength \paperheight {215mm}%
    \setlength \paperwidth  {145mm}
}


%%
\DeclareOption{landscape}
{ 
    \setlength\@tempdima   {\paperheight}%
    \setlength\paperheight {\paperwidth}%
    \setlength\paperwidth  {\@tempdima}
}

%%
\ExecuteOptions{a4paper}

\ProcessOptionsX*
\ProcessOptions
%%
%% end Options
%%

